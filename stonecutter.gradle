// Stonecutter build configuration for multi-version support

stonecutter {
    const("MC_VERSION", property("minecraft_version"))
    const("LOADER_VERSION", property("loader_version"))
}

// Add version suffix to JAR name
base {
    archivesName = "${project.archives_base_name}-${property('minecraft_version')}"
}

tasks.register('buildAllVersions') {
    group = 'stonecutter'
    description = 'Builds the mod for all configured Minecraft versions'

    doLast {
        println "To build for all versions, run: ./gradlew chiseledBuild"
        println "Or build individually with: ./gradlew build -Pstonecutter.active=<version>"
        println "Available versions: 1.20.1, 1.21, 1.21.1"
    }
}
